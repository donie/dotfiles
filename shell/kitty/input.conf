# Kitty Splits & Window Management
# Mirrors Ghostty cmd+space leader key pattern
# vim:fileencoding=utf-8:foldmethod=marker

# ============================================
# WINDOW PADDING (matches Ghostty: 20px all sides)
# ============================================
# Syntax: single value (all), two (vert horiz), three (top horiz bottom), four (top right bottom left)
window_padding_width 30

# ============================================
# LAYOUT CONFIGURATION
# ============================================
# Enable splits layout as primary (most flexible for pane management)
# Other layouts available: tall, fat, grid, stack, horizontal, vertical
enabled_layouts splits:split_axis=auto,stack

# ============================================
# TAB MANAGEMENT
# ============================================
map cmd+t new_tab_with_cwd
map cmd+w close_window
map cmd+shift+[ previous_tab
map cmd+shift+] next_tab

# ============================================
# TAB SELECTION BY NUMBER
# ============================================
map cmd+1 goto_tab 1
map cmd+2 goto_tab 2
map cmd+3 goto_tab 3
map cmd+4 goto_tab 4
map cmd+5 goto_tab 5
map cmd+6 goto_tab 6
map cmd+7 goto_tab 7
map cmd+8 goto_tab 8
map cmd+9 goto_tab -1

# ============================================
# SPLITS - Direct Navigation (cmd+hjkl)
# ============================================
map cmd+h neighboring_window left
map cmd+j neighboring_window bottom
map cmd+k neighboring_window top
map cmd+l neighboring_window right

# ============================================
# SPLITS - Leader Navigation (cmd+space > hjkl)
# ============================================
map cmd+space>h neighboring_window left
map cmd+space>j neighboring_window bottom
map cmd+space>k neighboring_window top
map cmd+space>l neighboring_window right

# ============================================
# SPLITS - Resizing (cmd+space > shift+hjkl)
# ============================================
# Resize by 3 cells at a time (adjust as needed)
map cmd+space>shift+h resize_window narrower 3
map cmd+space>shift+j resize_window taller 3
map cmd+space>shift+k resize_window shorter 3
map cmd+space>shift+l resize_window wider 3

# Reset sizes to equal
map cmd+space>= resize_window reset

# ============================================
# SPLITS - Creation (cmd+space > s/v/-/|)
# ============================================
# s = horizontal split (window below, like Ghostty's down)
map cmd+space>s launch --location=hsplit --cwd=current
map cmd+space>minus launch --location=hsplit --cwd=current

# v = vertical split (window to right, like Ghostty's right)
map cmd+space>v launch --location=vsplit --cwd=current
map cmd+space>shift+\ launch --location=vsplit --cwd=current

# Auto-detect best split direction based on window dimensions
map cmd+space>enter launch --location=split --cwd=current

# ============================================
# SPLITS - Management
# ============================================
# Close current pane
map cmd+space>x close_window
map cmd+space>q close_window

# Zoom/unzoom current pane (toggle stack layout)
map cmd+space>z toggle_layout stack

# Rotate split orientation
map cmd+space>r layout_action rotate

# Move window in direction
map cmd+space>shift+up move_window up
map cmd+space>shift+down move_window down
map cmd+space>shift+left move_window left
map cmd+space>shift+right move_window right

# ============================================
# SPLITS - Focus Management
# ============================================
# Show visual window picker
map cmd+space>w focus_visible_window

# Swap with neighbor
map cmd+space>shift+s swap_with_window

# ============================================
# QUICK ACTIONS
# ============================================
# Quick new OS window
map cmd+n new_os_window_with_cwd

# Interactive resize mode (native Kitty)
map cmd+space>shift+r start_resizing_window

# ============================================
# SCROLLBACK
# ============================================
# Scroll to previous/next shell prompt (requires shell integration)
map cmd+space>[ scroll_to_prompt -1
map cmd+space>] scroll_to_prompt 1
