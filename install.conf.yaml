- defaults:
    link:
      relink: true

- clean: ['~']

- link:
    ~/.wezterm.lua: shell/wezterm.lua
    ~/.zshrc: shell/zshrc
    ~/.zshenv: shell/zshenv
    ~/.p10k.zsh: shell/p10k.zsh
    ~/.gallery-dl.conf: dotfiles-private/gallery-dl.conf
    ~/.gitconfig: shell/gitconfig
    ~/_runtime/Brewfile:
      create: true
      path: dotfiles-private/Brewfile
    ~/.tmux.conf: tmux/tmux.conf
    ~/.vimrc: nvim/vimrc.vim
    ~/.vim/autoload/plug.vim:
      create: true
      path: vim/plug.vim
    ~/.config/nvim: nvim/
    ~/.config/mpv:
      path: mpv/
      exclude: [ mpv/watch_later ]
    ~/_runtime/bin/BBDown: 
      create: true
      path: bin/BBDown
    ~/_runtime/bin/BBDown.config:
      create: true
      path: bin/BBDown.config
    ~/_runtime/bin/code-shell:
      create: true
      path: bin/code-shell
    ~/_runtime/bin/dall:
      create: true
      path: bin/dall
    ~/_runtime/bin/nas:
      create: true
      path: bin/nas
    ~/Library/Application Support/Sublime Text/Packages/User:
      if: '[ `uname` = Darwin ]'
      create: true
      path: sublime/Packages/User/

- create:
    ~/.ssh:
      mode: 0700

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [chsh -s $(which zsh)] 
    - description: Installing vim-plug
      command: "[ -f ~/.vim/autoload/plug.vim ] || curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
    - description: Installing vim plugins
      command: "vim +PlugInstall +qa"
