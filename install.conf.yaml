# Base dotfiles configuration - cross-platform
# OS-specific configs are in install-darwin.conf.yaml and install-linux.conf.yaml

- defaults:
    link:
      create: true
      relink: true

- clean: ['~']

# ============================================================================
# Cross-platform Configurations
# ============================================================================

- link:
    ~/.gallery-dl.conf: dotfiles-private/gallery-dl.conf
    ~/.gitconfig: shell/gitconfig
    ~/.tmux.conf: tmux/tmux.conf
    ~/.vimrc: vim/vimrc
    ~/.vim/autoload/plug.vim: vim/plug.vim
    ~/.config/nvim: nvim/

# ============================================================================
# Cross-platform Directory Creation
# ============================================================================

- create:
    ~/.ssh:
      mode: 0700
    ~/.config:

# ============================================================================
# Cross-platform Shell Commands
# ============================================================================
# Note: git submodule update is handled by the install script itself
# Vim plugin installation moved to OS-specific configs to avoid stdin issues

- shell:
    - description: Installing vim-plug
      command: "[ -f ~/.vim/autoload/plug.vim ] || curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
